{"version":3,"file":"effect-expo.js.map","sources":["../node_modules/swiper/shared/effect-init.mjs","../demo-vite/effect-expo.esm.js"],"sourcesContent":["function effectInit(params) {\n  const {\n    effect,\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams,\n    perspective,\n    recreateShadows,\n    getEffectParams\n  } = params;\n  on('beforeInit', () => {\n    if (swiper.params.effect !== effect) return;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);\n    if (perspective && perspective()) {\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n    }\n    const overwriteParamsResult = overwriteParams ? overwriteParams() : {};\n    Object.assign(swiper.params, overwriteParamsResult);\n    Object.assign(swiper.originalParams, overwriteParamsResult);\n  });\n  on('setTranslate', () => {\n    if (swiper.params.effect !== effect) return;\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    if (swiper.params.effect !== effect) return;\n    setTransition(duration);\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.effect !== effect) return;\n    if (recreateShadows) {\n      if (!getEffectParams || !getEffectParams().slideShadows) return;\n      // remove shadows\n      swiper.slides.forEach(slideEl => {\n        slideEl.querySelectorAll('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').forEach(shadowEl => shadowEl.remove());\n      });\n      // create new one\n      recreateShadows();\n    }\n  });\n  let requireUpdateOnVirtual;\n  on('virtualUpdate', () => {\n    if (swiper.params.effect !== effect) return;\n    if (!swiper.slides.length) {\n      requireUpdateOnVirtual = true;\n    }\n    requestAnimationFrame(() => {\n      if (requireUpdateOnVirtual && swiper.slides && swiper.slides.length) {\n        setTranslate();\n        requireUpdateOnVirtual = false;\n      }\n    });\n  });\n}\n\nexport { effectInit as e };\n","import { effectInit } from 'swiper/effect-utils';\n\nif (typeof window !== 'undefined' && window.SwiperElementRegisterParams) {\n  window.SwiperElementRegisterParams(['expoEffect']);\n}\n\nexport default function EffectExpo({ swiper, on, extendParams }) {\n  extendParams({\n    expoEffect: {\n      imageScale: 1.125,\n      imageOffset: 1.25,\n      scale: 1.25,\n      rotate: 0,\n      grayscale: true,\n    },\n  });\n\n  const setTranslate = () => {\n    const { slides, rtlTranslate: rtl } = swiper;\n    const spv = swiper.params.slidesPerView;\n    const isHorizontal = swiper.isHorizontal();\n    let translateOffset = 0.5;\n    const params = swiper.params.expoEffect;\n    const imageOffset = Math.max(1.25, params.imageOffset);\n    if (spv > 1.5) {\n      const minTranslateOffset = (imageOffset - 1) / 2 / imageOffset;\n      translateOffset = Math.max(minTranslateOffset, 0.5 - (spv - 1.5));\n    }\n    const imageScale = Math.max(1.125, params.imageScale);\n    const scale = Math.max(1.25, params.scale);\n    const rtlMultiplier = rtl ? -1 : 1;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const slideEl = slides[i];\n      const contentWrapEl = slideEl.querySelector('.expo-container');\n      const contentEl = slideEl.querySelector('.expo-content');\n      const imageEl = slideEl.querySelector('.expo-image');\n      const progress = slideEl.progress;\n      const progressLimited = Math.max(Math.min(progress, 1), -1);\n\n      if (imageEl) {\n        imageEl.style.transform = `translate${isHorizontal ? 'X' : 'Y'}(${\n          progressLimited * translateOffset * 100 * rtlMultiplier\n        }%) scale(${1 + (imageScale - 1) * Math.abs(progressLimited)})`;\n        if (params.grayscale) {\n          imageEl.style.filter = `grayscale(${Math.abs(progressLimited)})`;\n        }\n      }\n      const sides = isHorizontal\n        ? rtl\n          ? ['right', 'left']\n          : ['left', 'right']\n        : ['top', 'bottom'];\n      if (Math.abs(progress) > 0.01) {\n        if (imageEl) {\n          imageEl.style.transformOrigin = progress > 0 ? sides[0] : sides[1];\n        }\n        if (contentWrapEl) {\n          contentWrapEl.style.transformOrigin =\n            progress > 0 ? sides[1] : sides[0];\n        }\n      }\n      if (contentWrapEl) {\n        contentWrapEl.style.transform = `scale(${\n          1 + (scale - 1) * Math.abs(progressLimited)\n        }) rotate${isHorizontal ? 'Y' : 'X'}(${\n          params.rotate *\n          progressLimited *\n          (isHorizontal ? 1 : -1) *\n          rtlMultiplier\n        }deg)`;\n      }\n      if (contentEl) {\n        contentEl.style.transform = `translate${isHorizontal ? 'X' : 'Y'}(${\n          progressLimited * 100 * rtlMultiplier\n        }%)`;\n        contentEl.style.opacity = 1 - Math.abs(progressLimited) * 2;\n      }\n    }\n  };\n\n  const setTransition = (duration) => {\n    const { slides } = swiper;\n    for (let i = 0; i < slides.length; i += 1) {\n      const slideEl = slides[i];\n      [\n        ...slideEl.querySelectorAll(\n          '.expo-container, .expo-image, .expo-content',\n        ),\n      ].forEach((el) => {\n        el.style.transitionDuration = `${duration}ms`;\n      });\n    }\n  };\n  const setSize = () => {\n    const box = swiper.el.getBoundingClientRect();\n    const size = swiper.isHorizontal() ? box.height : box.width;\n    const { rotate, scale, imageOffset } = swiper.params.expoEffect;\n    swiper.el.style.setProperty('--expo-image-offset', imageOffset);\n    const currentValue = swiper.el.style.getPropertyValue('--expo-padding');\n    const currentValueNumber = parseInt(currentValue, 10) || 0;\n\n    const activeSlideSize = size / scale;\n    let newValue = (size - activeSlideSize) / 2;\n    if (rotate) {\n      newValue = newValue * 1.35;\n    }\n    newValue = Math.round(newValue);\n\n    if (currentValue && !Number.isNaN(currentValueNumber)) {\n      if (Math.abs(newValue - currentValueNumber) < 5) return;\n    }\n\n    swiper.el.style.setProperty('--expo-padding', `${newValue}px`);\n  };\n\n  on('init', setSize);\n  on('resize', setSize);\n  on('update', setSize);\n\n  effectInit({\n    effect: 'expo',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      // resizeObserver: false,\n      centeredSlides: true,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n    }),\n  });\n}\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}