/**
 * UI Initiative Expo Slider
 *
 * Parallax & scale effects slider
 *
 * https://uiinitiative.com
 *
 * Copyright 2025 UI Initiative
 *
 * Released under the UI Initiative Regular License
 *
 * June 27, 2025
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).EffectExpo=t()}(this,(function(){"use strict";return"undefined"!=typeof window&&window.SwiperElementRegisterParams&&window.SwiperElementRegisterParams(["expoEffect"]),function({swiper:e,on:t,extendParams:s}){s({expoEffect:{imageScale:1.125,imageOffset:1.25,scale:1.25,rotate:0,grayscale:!0}});const a=()=>{const t=e.el.getBoundingClientRect(),s=e.isHorizontal()?t.height:t.width,{rotate:a,scale:r,imageOffset:o}=e.params.expoEffect;e.el.style.setProperty("--expo-image-offset",o);const i=e.el.style.getPropertyValue("--expo-padding"),n=parseInt(i,10)||0;let l=(s-s/r)/2;a&&(l*=1.35),l=Math.round(l),i&&!Number.isNaN(n)&&Math.abs(l-n)<5||e.el.style.setProperty("--expo-padding",`${l}px`)};t("init",a),t("resize",a),t("update",a),function(e){const{effect:t,swiper:s,on:a,setTranslate:r,setTransition:o,overwriteParams:i,perspective:n,recreateShadows:l,getEffectParams:f}=e;let c;a("beforeInit",(()=>{if(s.params.effect!==t)return;s.classNames.push(`${s.params.containerModifierClass}${t}`),n&&n()&&s.classNames.push(`${s.params.containerModifierClass}3d`);const e=i?i():{};Object.assign(s.params,e),Object.assign(s.originalParams,e)})),a("setTranslate",(()=>{s.params.effect===t&&r()})),a("setTransition",((e,a)=>{s.params.effect===t&&o(a)})),a("transitionEnd",(()=>{if(s.params.effect===t&&l){if(!f||!f().slideShadows)return;s.slides.forEach((e=>{e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((e=>e.remove()))})),l()}})),a("virtualUpdate",(()=>{s.params.effect===t&&(s.slides.length||(c=!0),requestAnimationFrame((()=>{c&&s.slides&&s.slides.length&&(r(),c=!1)})))}))}({effect:"expo",swiper:e,on:t,setTranslate:()=>{const{slides:t,rtlTranslate:s}=e,a=e.params.slidesPerView,r=e.isHorizontal();let o=.5;const i=e.params.expoEffect,n=Math.max(1.25,i.imageOffset);if(a>1.5){const e=(n-1)/2/n;o=Math.max(e,.5-(a-1.5))}const l=Math.max(1.125,i.imageScale),f=Math.max(1.25,i.scale),c=s?-1:1;for(let e=0;e<t.length;e+=1){const a=t[e],n=a.querySelector(".expo-container"),p=a.querySelector(".expo-content"),d=a.querySelector(".expo-image"),m=a.progress,h=Math.max(Math.min(m,1),-1);d&&(d.style.transform=`translate${r?"X":"Y"}(${h*o*100*c}%) scale(${1+(l-1)*Math.abs(h)})`,i.grayscale&&(d.style.filter=`grayscale(${Math.abs(h)})`));const g=r?s?["right","left"]:["left","right"]:["top","bottom"];Math.abs(m)>.01&&(d&&(d.style.transformOrigin=m>0?g[0]:g[1]),n&&(n.style.transformOrigin=m>0?g[1]:g[0])),n&&(n.style.transform=`scale(${1+(f-1)*Math.abs(h)}) rotate${r?"Y":"X"}(${i.rotate*h*(r?1:-1)*c}deg)`),p&&(p.style.transform=`translate${r?"X":"Y"}(${100*h*c}%)`,p.style.opacity=1-2*Math.abs(h))}},setTransition:t=>{const{slides:s}=e;for(let e=0;e<s.length;e+=1){[...s[e].querySelectorAll(".expo-container, .expo-image, .expo-content")].forEach((e=>{e.style.transitionDuration=`${t}ms`}))}},perspective:()=>!0,overwriteParams:()=>({centeredSlides:!0,slidesPerGroup:1,watchSlidesProgress:!0})})}}));
//# sourceMappingURL=effect-expo.min.js.map